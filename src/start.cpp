#include "start.h"

#include <iostream>
#include <cstdlib>

using namespace std;

void start::showRule(){
    system("clear");
    char input = ' ';
    int num = 1;
    while (input != '=' || num != 5) {
        cin >> input;
        if (input == 'D' || input == 'd') {
            if (num == 5) continue;
            num += 1;
        } else if (input == 'A' || input == 'a') {
            if (num == 1) continue;
            num -= 1;
        }

        switch (num) {
            case 1:
                system("clear");
                cout << "\n\n";
                cout << "╔═══════════════════════════════════════════════════════════════════════════════════════════════════════╗\n";
                cout << "║                              ┌───┐                                                                    ║\n";
                cout << "║                              │ W │                           ┌───┐                                    ║\n";
                cout << "║                      Use  ┌──┴┬──┴┬───┐  key to select, and  │ = │  key to enter                      ║\n";
                cout << "║                           │ A │ S │ D │                      └───┘                                    ║\n";
                cout << "║                           └───┴───┴───┘                                                               ║\n";
                cout << "║                                     ┏━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━┓                                    ║\n";
                cout << "║                                     ┃ < ┃      Page 1/5      ┃ > ┃                                    ║\n";
                cout << "║                                     ┗━━━┻━━━━━━━━━━━━━━━━━━━━┻━━━┛                                    ║\n";
                cout << "║                                                                                                       ║\n";
                cout << "╚═══════════════════════════════════════════════════════════════════════════════════════════════════════╝\n";
                break;
            case 2:
                system("clear");
                cout << "\n\n";
                cout << "╔═══════════════════════════════════════════════════════════════════════════════════════════════════════╗\n";
                cout << "║                                                                                                       ║\n";
                cout << "║                                       There are '\033[33m4\033[0m' rounds to play                                      ║\n";
                cout << "║                                    You have '\033[33m3\033[0m' times to discard cards.                                 ║\n";
                cout << "║                                                                                                   ║\n";
                cout << "║                                                                                                           ║\n";
                cout << "║                                     ┏━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━┓                                    ║\n";
                cout << "║                                     ┃ < ┃      Page 2/5      ┃ > ┃                                    ║\n";
                cout << "║                                     ┗━━━┻━━━━━━━━━━━━━━━━━━━━┻━━━┛                                    ║\n";
                cout << "║                                                                                                       ║\n";
                cout << "╚═══════════════════════════════════════════════════════════════════════════════════════════════════════╝\n";
                break;
            case 3:
                system("clear");
                cout << "\n\n";
                cout << "╔═══════════════════════════════════════════════════════════════════════════════════════════════════════╗\n";
                cout << "║                                                                                                       ║\n";
                cout << "║                        In each round, you must select '\033[33m1~5\033[0m' cards to gain scores                        ║\n";
                cout << "║                    When you discard cards, the system will randomly deal new cards                    ║\n";
                cout << "║                                    to fill your hand back up to 8                                     ║\n";
                cout << "║                                                                                                       ║\n";
                cout << "║                                     ┏━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━┓                                    ║\n";
                cout << "║                                     ┃ < ┃      Page 3/5      ┃ > ┃                                    ║\n";
                cout << "║                                     ┗━━━┻━━━━━━━━━━━━━━━━━━━━┻━━━┛                                    ║\n";
                cout << "║                                                                                                       ║\n";
                cout << "╚═══════════════════════════════════════════════════════════════════════════════════════════════════════╝\n";
                break;
            case 4:
                system("clear");
                cout << "\n\n";
                cout << "╔═══════════════════════════════════════════════════════════════════════════════════════════════════════╗\n";
                cout << "║                                                                                                       ║\n";
                cout << "║                    The scores you gain will be converted into money in each round                     ║\n";
                cout << "║                              You can visit '\033[33mSHOP\033[0m' to purchase '\033[33mSKILL CARD\033[0m'                                ║\n";
                cout << "║                                                                                                       ║\n";
                cout << "║                                                                                                       ║\n";
                cout << "║                                     ┏━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━┓                                    ║\n";
                cout << "║                                     ┃ < ┃      Page 4/5      ┃ > ┃                                    ║\n";
                cout << "║                                     ┗━━━┻━━━━━━━━━━━━━━━━━━━━┻━━━┛                                    ║\n";
                cout << "║                                                                                                       ║\n";
                cout << "╚═══════════════════════════════════════════════════════════════════════════════════════════════════════╝\n";
                break;
            case 5:
                system("clear");
                cout << "\n\n";
                cout << "╔═══════════════════════════════════════════════════════════════════════════════════════════════════════╗\n";
                cout << "║                                                                                                       ║\n";
                cout << "║                                                                                                       ║\n";
                cout << "║                                                                                                       ║\n";
                cout << "║                                                                                                       ║\n";
                cout << "║                                                                                                       ║\n";
                cout << "║                                     ┏━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━┓                                    ║\n";
                cout << "║                                     ┃ < ┃      Page 5/5      ┃ > ┃                                    ║\n";
                cout << "║                                     ┗━━━┻━━━━━━━━━━━━━━━━━━━━┻━━━┛                                    ║\n";
                cout << "║                                      Press = to start the game...                                     ║\n";
                cout << "╚═══════════════════════════════════════════════════════════════════════════════════════════════════════╝\n";
                break;
            default:
            default:
                system("clear");
                cout << "\n\n";
                cout << "╔═══════════════════════════════════════════════════════════════════════════════════════════════════════╗\n";
                cout << "║                              ┌───┐                                                                    ║\n";
                cout << "║                              │ W │                           ┌───┐                                    ║\n";
                cout << "║                      Use  ┌──┴┬──┴┬───┐  key to select, and  │ = │  key to enter                      ║\n";
                cout << "║                           │ A │ S │ D │                      └───┘                                    ║\n";
                cout << "║                           └───┴───┴───┘                                                               ║\n";
                cout << "║                                     ┏━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━┓                                    ║\n";
                cout << "║                                     ┃ < ┃      Page 1/5      ┃ > ┃                                    ║\n";
                cout << "║                                     ┗━━━┻━━━━━━━━━━━━━━━━━━━━┻━━━┛                                    ║\n";
                cout << "║                                                                                                       ║\n";
                cout << "╚═══════════════════════════════════════════════════════════════════════════════════════════════════════╝\n";
        }
    }
    return;
}

void start::display(){
    system("clear");
    cout << "\n\n";
    cout << "  ██████╗  █████╗ ██╗      █████╗ ████████╗██████╗  ██████╗     ██████╗  ██████╗ ██╗  ██╗███████╗██████╗ \n";
    cout << "  ██╔══██╗██╔══██╗██║     ██╔══██╗╚══██╔══╝██╔══██╗██╔═══██╗    ██╔══██╗██╔═══██╗██║ ██╔╝██╔════╝██╔══██╗\n";
    cout << "  ██████╔╝███████║██║     ███████║   ██║   ██████╔╝██║   ██║    ██████╔╝██║   ██║█████╔╝ █████╗  ██████╔╝\n";
    cout << "  ██╔══██╗██╔══██║██║     ██╔══██║   ██║   ██╔══██╗██║   ██║    ██╔═══╝ ██║   ██║██╔═██╗ ██╔══╝  ██╔══██╗\n";
    cout << "  ██████╔╝██║  ██║███████╗██║  ██║   ██║   ██║  ██║╚██████╔╝    ██║     ╚██████╔╝██║  ██╗███████╗██║  ██║\n";
    cout << "  ╚═════╝ ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝   ╚═╝   ╚═╝  ╚═╝ ╚═════╝     ╚═╝      ╚═════╝ ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝\n";
    cout << "\n\n\n\n";
    cout << "                                    Welcome to Balatro Poker!\n";
    cout << "                                 Enter = key to start this game...\n\n";
    char input = ' '; 
    while (input != '=') cin >> input;

    showRule();
    
    return;
}
